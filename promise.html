<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      //       let promise = new Promise((resolve, reject) => {
      //         reject()
      //       })
      //       promise
      //         .then(response => {
      //           console.log('成功')
      //         })
      //         .catch(error => {
      //           console.log('失败')
      //         })
      //链式
      function promise1(status) {
        return new Promise((resolve, reject) => {
          if (status) {
            console.log('第一个promise成功')
            resolve('第一个promise返回数据成功')
          } else {
            console.log('第一个promise失败')
            reject('第一个promise返回数据失败')
          }
        })
      }
      function promise2(status) {
        return new Promise((resolve, reject) => {
          if (status) {
            console.log('第一个promise2成功')
            resolve('第一个promise2返回数据成功')
          } else {
            console.log('第一个promise2失败')
            reject('第一个promise2返回数据失败')
          }
        })
      }
      //       promise1(true)
      //         .then(response => {
      //           console.log(response) //第一个
      //           promise2(true).then(response => {
      //             console.log(response) //第二个
      //           })
      //         })
      //         .catch(error => {
      //           console.log(error)
      //         })

      //       Promise.all([promise1(true), promise2(true)])
      //         .then(response => {
      //           console.log('全部调用成功')
      //         })
      //         .catch(error => {
      //           console.log('有些可能失败了')
      //         })
      //race:最终结果有一个返回成功，就调用resolve，如果第一个返回fasle,就失败了，调用reject
      Promise.race([promise1(false), promise2(true)])
        .then(response => {
          console.log('全部调用成功')
        })
        .catch(error => {
          console.log('有些可能失败了')
        })
    </script>
  </body>
</html>
